# n8n Starter Pack Environment Configuration
# Copy this file to .env and update values

# ===================================
# BASIC CONFIGURATION
# ===================================

# Domain Configuration
DOMAIN=localhost
EMAIL=admin@example.com
SERVER_IP=

# ===================================
# DATABASE CONFIGURATION
# ===================================

# PostgreSQL
POSTGRES_USER=n8n
POSTGRES_PASSWORD=changeme_strong_password_here
POSTGRES_DB=n8n

# ===================================
# n8n CONFIGURATION
# ===================================

# Security
N8N_ENCRYPTION_KEY=changeme_generate_random_key_here

# n8n Settings
N8N_HOST=localhost
N8N_PORT=5678
N8N_PROTOCOL=http
WEBHOOK_URL=http://localhost:5678/
N8N_EDITOR_BASE_URL=http://localhost:5678/

# Basic Auth (optional)
N8N_BASIC_AUTH_ACTIVE=false
N8N_BASIC_AUTH_USER=
N8N_BASIC_AUTH_PASSWORD=

# ===================================
# PERFORMANCE CONFIGURATION
# ===================================

# Execution Mode
# Options: regular (single instance), queue (with workers)
EXECUTIONS_MODE=regular

# Workers (only for queue mode)
WORKERS=0

# Memory Limits (MB)
# Adjust based on your VPS resources
# 1GB RAM VPS: 768
# 2GB RAM VPS: 1536
# 4GB+ RAM VPS: 2048
NODE_OPTIONS=--max-old-space-size=1024

# Concurrent executions
N8N_CONCURRENCY_PRODUCTION_LIMIT=5

# Payload size limit (MB)
N8N_PAYLOAD_SIZE_MAX=16

# ===================================
# REDIS CONFIGURATION (Queue Mode)
# ===================================

# Redis Password (only needed if EXECUTIONS_MODE=queue)
REDIS_PASSWORD=changeme_redis_password_here

# Redis Settings
REDIS_MAX_MEMORY=256mb
REDIS_MAX_MEMORY_POLICY=allkeys-lru

# ===================================
# MONITORING & METRICS
# ===================================

# Enable metrics endpoint
N8N_METRICS=false
N8N_METRICS_PREFIX=n8n_

# Metrics authentication
N8N_METRICS_INCLUDE_DEFAULT_METRICS=true
N8N_METRICS_INCLUDE_API_ENDPOINTS=true
N8N_METRICS_INCLUDE_API_PATH_LABEL=true
N8N_METRICS_INCLUDE_API_METHOD_LABEL=true
N8N_METRICS_INCLUDE_API_STATUS_CODE_LABEL=true

# ===================================
# TIMEZONE
# ===================================

TZ=UTC
GENERIC_TIMEZONE=UTC

# ===================================
# LOGGING
# ===================================

# Log Level: error, warn, info, verbose, debug
N8N_LOG_LEVEL=info
N8N_LOG_OUTPUT=console

# Save execution data
EXECUTIONS_DATA_SAVE_ON_ERROR=all
EXECUTIONS_DATA_SAVE_ON_SUCCESS=all
EXECUTIONS_DATA_SAVE_MANUAL_EXECUTIONS=true

# Prune execution data
EXECUTIONS_DATA_PRUNE=true
EXECUTIONS_DATA_MAX_AGE=336

# ===================================
# EXTERNAL SERVICES
# ===================================

# SMTP (for email notifications)
N8N_EMAIL_MODE=smtp
N8N_SMTP_HOST=
N8N_SMTP_PORT=587
N8N_SMTP_USER=
N8N_SMTP_PASS=
N8N_SMTP_SENDER=
N8N_SMTP_SSL=false

# ===================================
# OPTIONAL SERVICES
# ===================================

# Set to 'true' to enable
ENABLE_PORTAINER=false
ENABLE_WATCHTOWER=false

# Watchtower settings
WATCHTOWER_SCHEDULE="0 0 3 * * *"
WATCHTOWER_CLEANUP=true

# ===================================
# DEVELOPMENT/DEBUG
# ===================================

# Disable telemetry
N8N_DIAGNOSTICS_ENABLED=false
N8N_DISABLE_PRODUCTION_MAIN_PROCESS=false

# Custom nodes
EXTERNAL_HOOK_FILES=

# ===================================
# NOTES
# ===================================
#
# 1. Generate secure passwords:
#    openssl rand -base64 32
#
# 2. For production, always use:
#    - Strong passwords
#    - HTTPS protocol
#    - Proper domain configuration
#
# 3. Resource recommendations:
#    - 1 vCPU, 1GB RAM: Use minimal mode
#    - 2 vCPU, 2GB RAM: Can use 1-2 workers
#    - 4+ vCPU, 4GB+ RAM: Full production setup
#
# ===================================