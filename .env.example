# n8n Environment Configuration
# Copy this file to .env and update with your values

# ====================
# CORE CONFIGURATION
# ====================

# Encryption key for n8n (NEVER CHANGE AFTER FIRST RUN!)
N8N_ENCRYPTION_KEY=your-random-encryption-key-here

# Host configuration
N8N_HOST=localhost
N8N_PORT=5678
N8N_PROTOCOL=http
WEBHOOK_URL=http://localhost:5678/

# ====================
# DATABASE (PostgreSQL)
# ====================

POSTGRES_USER=n8n
POSTGRES_PASSWORD=your-secure-password-here
POSTGRES_DB=n8n

# ====================
# REDIS (For Queue Mode)
# ====================

REDIS_PASSWORD=your-redis-password-here
QUEUE_BULL_REDIS_HOST=redis
QUEUE_BULL_REDIS_PORT=6379

# ====================
# EXECUTION MODE
# ====================

# Options: "regular" (no workers) or "queue" (with workers)
EXECUTIONS_MODE=queue

# ====================
# PERFORMANCE
# ====================

# Memory limit for Node.js (MB)
# 512 for 1GB RAM VPS, 1024 for 2GB RAM VPS
NODE_OPTIONS=--max-old-space-size=512

# ====================
# DATA MANAGEMENT
# ====================

# Save execution data
EXECUTIONS_DATA_SAVE_ON_ERROR=all
EXECUTIONS_DATA_SAVE_ON_SUCCESS=all
EXECUTIONS_DATA_SAVE_MANUAL_EXECUTIONS=true

# Prune old executions
EXECUTIONS_DATA_PRUNE=true
EXECUTIONS_DATA_MAX_AGE=168  # Hours (7 days)

# ====================
# TIMEZONE
# ====================

TZ=UTC
GENERIC_TIMEZONE=UTC

# ====================
# OPTIONAL: BASIC AUTH
# ====================

# N8N_BASIC_AUTH_ACTIVE=true
# N8N_BASIC_AUTH_USER=admin
# N8N_BASIC_AUTH_PASSWORD=changeme